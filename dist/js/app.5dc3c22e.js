(function(){"use strict";var e={7181:function(e,t,a){var l=a(9242),o=a(3396);function s(e,t){const a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(a)}var n=a(89);const r={},i=(0,n.Z)(r,[["render",s]]);var c=i,u=(a(7658),a(2483));const d={class:"grid place-items-center mx-auto h-screen bg-[#F5F5F5] w-screen"},p=(0,o._)("h1",{class:"text-xl italic"},"Please select a project or create a new one",-1),g=[p];function m(e,t){return(0,o.wg)(),(0,o.iD)("div",d,g)}const v={},f=(0,n.Z)(v,[["render",m]]);var x=f,h=a(4870),b=a(7139),w=a(530),k=a.n(w);function y(){const e=(e,t=[],a=null,l=!0)=>{k().start();let o=[];return t.length>0&&o.push(...t),null!==a&&o.push(JSON.stringify(a)),e(...o).then((e=>"failed"!=e.data.message?(l&&console.log(e.data.data),{message:"success",data:e.data.data}):(l&&console.log("failed:",e.data.data),{message:"failed",data:e.data.data}))).catch((e=>(l&&console.log("failed:",e),{message:"failed",data:e}))).finally((()=>{k().done()}))};return{apiService:e}}var _=a(4311),S=a(1598);function j(e){const t=localStorage.getItem("access_token");let a=(0,S.Z)(t);return a.user.id==e}function C(e){const t=(0,S.Z)(e),a=Date.now()/1e3;return!t||a+30>=t.exp}function U(e){const t=(0,S.Z)(e),a=Date.now()/1e3;console.log("now:",a),console.log("decoded.exp:",t.exp)}const D=_.Z.create({baseURL:"http://206.189.196.40/project-manager/api",withCredentials:!1}),T=_.Z.create({baseURL:"http://206.189.196.40/project-manager/api/refresh",withCredentials:!1});D.interceptors.request.use((async function(e){if(!C(localStorage.getItem("access_token")))return e;console.log("access_token HAS expired");try{let t=await T.post("",{},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}});return t.data.data?(localStorage.setItem("access_token",t.data.data),e.headers.Authorization="Bearer "+t.data.data,e):(console.log("no access token refreshed, must login also, resp:",t),localStorage.removeItem("access_token"),window.location="/project-manager/auth/login",Promise.reject())}catch(t){return console.log("error at refreshing..."),localStorage.removeItem("access_token"),window.location="/project-manager/auth/login",Promise.reject()}}),(function(e){return Promise.reject("REQUEST ERROR: "+e)})),D.interceptors.response.use((function(e){return e}),(function(e){return console.log("error:",e),console.log("error.response:",e.response),console.log("error.response.status:",e.response.status),console.log("error.response.message:",e.response.message),console.log("error.response.data.message:",e.response.data.message),console.log("error.response.config.baseURL + / + error.response.config.url:",e.response.config.baseURL+"/"+e.response.config.url),localStorage.getItem("access_token")&&"Unauthenticated."==e.response.data.message?(console.log("lagged refresh... pushing to",aa.currentRoute.value.fullPath),aa.push(aa.currentRoute.value.fullPath)):aa.push({name:"ErrorDisplayView",params:{status:e.response.status}}),Promise.reject(e)}));var I={register(e){return _.Z.post("http://206.189.196.40/project-manager/api/register",e,{headers:{"Content-Type":"application/json"}})},login(e){return _.Z.post("http://206.189.196.40/project-manager/api/login",e,{headers:{"Content-Type":"application/json"}})},getProjects(){return D.get("projects",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}})},getSingleProject(e){return D.get("projects/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}})},createProject(e){return D.post("projects",e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},updateProject(e,t){return D.post("projects/"+e,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},addToArchive(e){return D.post("projects/addToArchive/"+e,{},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},removeFromArchive(e){return D.post("projects/removeFromArchive/"+e,{},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},getArchivedProjects(){return D.get("archive/projects",{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}})},getColumns(e){return D.get("projects/"+e+"/columns",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},getSingleColumn(e){return D.get("columns/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},createColumn(e,t){return D.post("projects/"+e+"/columns",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},updateColumn(e,t){return D.post("columns/"+e,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},changeColsOrder(e,t){return D.post("projects/"+e+"/columns/changeOrder",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},deleteColumn(e){return D.delete("columns/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},getTasks(e){return D.get("columns/"+e+"/tasks",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},getSingleTask(e){return D.get("tasks/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},createTask(e,t){return D.post("columns/"+e+"/tasks",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},updateTask(e,t){return D.post("tasks/"+e,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},relocateTask(e,t){return D.post("tasks/"+e+"/relocate",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},deleteTask(e){return D.delete("tasks/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},getMembers(e){return D.get("projects/"+e+"/getMembers",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},addMember(e,t){return D.post("projects/"+e+"/addMember",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},removeMember(e,t){return D.post("projects/"+e+"/removeMember",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},getComments(e){return D.get("tasks/",e,"/comments",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},getSingleComment(e){return D.get("comments/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},createComment(e,t){return D.post("tasks/"+e+"/comments",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},updateComment(e,t){return D.post("comments/"+e,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})},deleteComment(e){return D.delete("comments/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")}})}};const A=["onSubmit"],H=(0,o._)("h1",{class:"self-start text-lg font-bold mb-3"},"Register",-1),q={class:"flex flex-col space-y-2 mb-3"},z=(0,o._)("label",{class:"self-start uppercase lg:text-xs text-[10px] text-gray-500 font-bold",for:"name"},"Name",-1),F={class:"flex flex-col space-y-2 mb-3"},P=(0,o._)("label",{class:"self-start uppercase lg:text-xs text-[10px] text-gray-500 font-bold",for:"email"},"Email",-1),M={class:"flex flex-col space-y-2 mb-3"},B=(0,o._)("label",{class:"self-start uppercase lg:text-xs text-[10px] text-gray-500 font-bold",for:"password"},"Password",-1),V={class:"mb-3 flex flex-col self-center items-center"},E={key:0,class:"text-xs italic mb-3 text-red-500"},L=["disabled"],O={class:""};var R={__name:"RegisterView",setup(e){const t=(0,u.tv)(),a=(0,u.yj)(),s=y();let n=(0,h.iH)(""),r=(0,h.iH)(""),i=(0,h.iH)(""),c=(0,h.iH)(""),d=(0,h.iH)(!1);function p(){if(n.value.length<1||r.value.length<1||i.value.length<1)return c.value="Please fill all of the required fields",!1;d.value=!0,s.apiService(I.register,[],{name:n.value,email:r.value,password:i.value}).then((e=>{"failed"==e.message?c.value=e.data:(console.log(e.data),localStorage.setItem("access_token",e.data),a.query.to?t.push(a.query.to):t.push({name:"HomeView"}))})).finally((()=>{d.value=!1}))}return(e,t)=>{const s=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("form",{class:"flex flex-col w-[600px] border border-gray-500 rounded-md my-6 p-4",onSubmit:(0,l.iM)(p,["prevent"])},[H,(0,o._)("div",q,[z,(0,o.wy)((0,o._)("input",{id:"name",type:"text",class:"rounded-lg p-2 text-sm lg:text-base font-bold border border-black","onUpdate:modelValue":t[0]||(t[0]=e=>(0,h.dq)(n)?n.value=e:n=e)},null,512),[[l.nr,(0,h.SU)(n)]])]),(0,o._)("div",F,[P,(0,o.wy)((0,o._)("input",{id:"email",type:"email",class:"rounded-lg p-2 text-sm lg:text-base font-bold border border-black","onUpdate:modelValue":t[1]||(t[1]=e=>(0,h.dq)(r)?r.value=e:r=e)},null,512),[[l.nr,(0,h.SU)(r)]])]),(0,o._)("div",M,[B,(0,o.wy)((0,o._)("input",{id:"password",type:"password",class:"rounded-lg p-2 text-sm lg:text-base font-bold border border-black","onUpdate:modelValue":t[2]||(t[2]=e=>(0,h.dq)(i)?i.value=e:i=e)},null,512),[[l.nr,(0,h.SU)(i)]])]),(0,o._)("div",V,[(0,h.SU)(c)?((0,o.wg)(),(0,o.iD)("h1",E,(0,b.zw)((0,h.SU)(c)),1)):(0,o.kq)("",!0),(0,o._)("button",{class:(0,b.C_)(["px-2 py-1 w-[150px] text-sm rounded-lg bg-[#0C4689] text-white",{"bg-[#0C4689] text-white":!(0,h.SU)(d),"bg-gray-300 cursor-none":(0,h.SU)(d)}]),disabled:(0,h.SU)(d)},(0,b.zw)((0,h.SU)(d)?"Loading...":"Register"),11,L)]),(0,o._)("h1",O,[(0,o.Uk)(" Already have an account? "),(0,o.Wm)(s,{class:"underline",to:{name:"LoginView",query:{to:(0,h.SU)(a).query.to??null}}},{default:(0,o.w5)((()=>[(0,o.Uk)("Login")])),_:1},8,["to"]),(0,o.Uk)(" instead. ")])],40,A)}}};const K=R;var N=K;const Y=["onSubmit"],W=(0,o._)("h1",{class:"self-start text-lg font-bold mb-3"},"Login",-1),Z={class:"flex flex-col space-y-2 mb-3"},G=(0,o._)("label",{class:"self-start uppercase lg:text-xs text-[10px] text-gray-500 font-bold",for:"email"},"Email",-1),J={class:"flex flex-col space-y-2 mb-3"},Q=(0,o._)("label",{class:"self-start uppercase lg:text-xs text-[10px] text-gray-500 font-bold",for:"password"},"Password",-1),$={class:"mb-3 flex flex-col self-center items-center"},X={key:0,class:"text-xs italic mb-3 text-red-500"},ee=["disabled"],te={class:""};var ae={__name:"LoginView",setup(e){const t=(0,u.tv)(),a=(0,u.yj)();let s=(0,h.iH)(""),n=(0,h.iH)(""),r=(0,h.iH)(""),i=(0,h.iH)(!1);const c=y();function d(){if(s.value.length<1||n.value.length<1)return r.value="Please fill all of the required fields",!1;i.value=!0,c.apiService(I.login,[],{email:s.value,password:n.value}).then((e=>{"failed"==e.message?r.value=e.message:(console.log("result.data",e.data),console.log(e.data),localStorage.setItem("access_token",e.data),a.query.to?t.push(a.query.to):t.push({name:"HomeView"}))})).catch((e=>{e.value=e})).finally((()=>{i.value=!1}))}return(e,t)=>{const c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("form",{class:"flex flex-col w-[600px] border border-gray-500 rounded-md my-6 p-4",onSubmit:(0,l.iM)(d,["prevent"])},[W,(0,o._)("div",Z,[G,(0,o.wy)((0,o._)("input",{id:"email",type:"email",class:"rounded-lg p-2 text-sm lg:text-base font-bold border border-black","onUpdate:modelValue":t[0]||(t[0]=e=>(0,h.dq)(s)?s.value=e:s=e)},null,512),[[l.nr,(0,h.SU)(s)]])]),(0,o._)("div",J,[Q,(0,o.wy)((0,o._)("input",{id:"password",type:"password",class:"rounded-lg p-2 text-sm lg:text-base font-bold border border-black","onUpdate:modelValue":t[1]||(t[1]=e=>(0,h.dq)(n)?n.value=e:n=e)},null,512),[[l.nr,(0,h.SU)(n)]])]),(0,o._)("div",$,[(0,h.SU)(r)?((0,o.wg)(),(0,o.iD)("h1",X,(0,b.zw)((0,h.SU)(r)),1)):(0,o.kq)("",!0),(0,o._)("button",{class:(0,b.C_)(["px-2 py-1 w-[150px] text-sm rounded-lg",{"bg-[#0C4689] text-white":!(0,h.SU)(i),"bg-gray-300 cursor-none":(0,h.SU)(i)}]),disabled:(0,h.SU)(i)},(0,b.zw)((0,h.SU)(i)?"Loading...":"Login"),11,ee)]),(0,o._)("h1",te,[(0,o.Uk)(" Do not have an account? "),(0,o.Wm)(c,{class:"underline",to:{name:"RegisterView",query:{to:(0,h.SU)(a).query.to??null}}},{default:(0,o.w5)((()=>[(0,o.Uk)("Register")])),_:1},8,["to"]),(0,o.Uk)(" instead. ")])],40,Y)}}};const le=ae;var oe=le;const se={class:"bg-[#FFFFFF] mx-auto flex flex-col p-8"},ne=(0,o._)("div",{class:"self-start"},[(0,o._)("h1",{class:"text-2xl font-bold self-start"},"Project Manager")],-1),re={class:"self-center"};function ie(e,t){const a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",se,[ne,(0,o._)("div",re,[(0,o.Wm)(a)])])}const ce={},ue=(0,n.Z)(ce,[["render",ie]]);var de=ue;function pe(e,t=!1){const a=(0,h.iH)(t);return(0,o.bv)((()=>{const t=window.matchMedia(e);function l(){a.value=Boolean(t.matches)}a.value=Boolean(t.matches),t.addListener(l)})),a}const ge={class:"flex"},me={class:"flex flex-col items-center mt-6 text-xs lg:text-sm px-4"},ve={class:"flex justify-between w-[180px] lg:w-[220px]"},fe=(0,o._)("h1",{class:"font-bold mb-6 self-start"},"Projects",-1),xe={key:0,class:"italic mb-3"},he={class:"text-start"},be={class:"text-sm"},we=(0,o._)("h1",{class:"justify-self-center"},"New Project",-1),ke={key:2},ye=["onKeyup"],_e={key:0,class:"text-xs flex flex-col items-center mt-6 mb-6 px-4"},Se=(0,o._)("h1",{class:"font-bold uppercase mb-3"},"Archived Projects",-1),je={class:"ml-3"};var Ce={__name:"SidebarLayout",setup(e){let t=(0,h.iH)(null);const a=(0,u.yj)(),s=(0,u.tv)();let n=(0,h.iH)(null);const r=pe("(max-width: 768px)"),i=y();(0,o.bv)((()=>{i.apiService(I.getProjects).then((e=>{"failed"!=e.message&&(n.value=e.data),console.log("fin. projs")})),i.apiService(I.getArchivedProjects).then((e=>{"failed"!=e.message&&(t.value=e.data),console.log("fin. archive")}))}));let c=(0,o.Fl)((()=>{if(!n.value)return-1;if(a.params.projectId){for(let e=0;e<n.value.length;e++)if(n.value[e].id==a.params.projectId)return n.value[e].id;if(!t.value)return-1;for(let e=0;e<t.value.length;e++)if(t.value[e].id==a.params.projectId)return t.value[e].id}}));const d=()=>{localStorage.removeItem("access_token"),s.push({name:"LoginView"})};let p=(0,h.iH)(!1),g=(0,h.iH)(""),m=(0,h.iH)(!1),v=(0,h.iH)(null);const f=()=>{p.value=!0,m.value=!1,g.value="",(0,o.Y3)((()=>{v.value.focus()}))},x=()=>{p.value=!1},w=e=>{g.value="Loading...",e.target.value.length>0?i.apiService(I.createProject,[],{name:e.target.value}).then((e=>{"failed"==e.message?(m.value=!0,g.value=e.data):(n.value.push(e.data),g.value="")})):(m.value=!0,g.value="The name field is required"),x()};let k=(0,h.iH)(!1);const _=()=>{console.log("show sidebar"),k.value=!0},S=()=>{k.value=!1};return(e,a)=>{const s=(0,o.up)("v-icon"),i=(0,o.up)("router-link"),u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",ge,[(0,h.SU)(r)?((0,o.wg)(),(0,o.j4)(s,{key:0,name:"co-hamburger-menu",onClick:_})):(0,o.kq)("",!0),(0,o.Wm)(l.uT,{name:"fade"},{default:(0,o.w5)((()=>[(0,h.SU)(k)&&(0,h.SU)(r)||!(0,h.SU)(r)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,b.C_)([{"absolute inset-0":(0,h.SU)(r)},"delay-100 flex flex-col self-start h-screen overflow-y-auto w-[240px] lg:w-[360px] bg-[#FFFFFF] border-r-[1px] border-r-[#CCCCCC]"])},[(0,o._)("div",me,[(0,o._)("div",ve,[fe,(0,h.SU)(r)?((0,o.wg)(),(0,o.j4)(s,{key:0,name:"io-chevron-back",onClick:S})):(0,o.kq)("",!0)]),(0,h.SU)(n)?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)((0,h.SU)(n),((e,t)=>((0,o.wg)(),(0,o.j4)(i,{key:t,class:(0,b.C_)(["w-[180px] lg:w-[220px] h-[45px] rounded-md flex flex-col justify-center items-start mb-3 px-2",e.id==(0,h.SU)(c)?"bg-[#0C4689] text-white":"bg-[#F4F4F4] cursor-pointer hover:bg-[#0C4689] hover:text-white"]),to:{name:"ProjectView",params:{projectId:e.id}}},{default:(0,o.w5)((()=>[(0,o._)("h1",he,(0,b.zw)(e.name),1)])),_:2},1032,["class","to"])))),128)):((0,o.wg)(),(0,o.iD)("div",xe,"Loading...")),(0,o._)("div",be,[(0,h.SU)(g)?((0,o.wg)(),(0,o.iD)("h1",{key:0,class:(0,b.C_)(["italic text-xs",{"text-red-500":(0,h.SU)(m)}])},(0,b.zw)((0,h.SU)(g)),3)):(0,o.kq)("",!0),(0,h.SU)(p)?((0,o.wg)(),(0,o.iD)("div",ke,[(0,o._)("input",{ref_key:"newProjectNameField",ref:v,type:"text",placeholder:"Project Name...",onKeyup:[a[0]||(a[0]=(0,l.D2)((e=>w(e)),["enter"])),(0,l.D2)(x,["esc"])],onFocusout:x,class:"bg-[#F4F4F4] rounded-md p-2 w-[180px] lg:w-[220px] h-[45px]"},null,40,ye)])):((0,o.wg)(),(0,o.iD)("div",{key:1,class:"bg-[#F4F4F4] hover:underline w-[180px] lg:w-[220px] h-[45px] rounded-md flex items-center space-x-3 px-4 cursor-pointer",onClick:f},[(0,o.Wm)(s,{class:"justify-self-start",name:"io-add-outline"}),we]))])]),(0,h.SU)(t)&&(0,h.SU)(t).length>0?((0,o.wg)(),(0,o.iD)("div",_e,[Se,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,h.SU)(t),((e,t)=>((0,o.wg)(),(0,o.j4)(i,{key:t,class:(0,b.C_)(["w-[180px] lg:w-[220px] h-[28px] rounded-md flex flex-col justify-center items-start mb-3",e.id==(0,h.SU)(c)?"bg-gray-500 text-white":"bg-[#F4F4F4] cursor-pointer hover:bg-gray-500 hover:text-white"]),to:{name:"ProjectView",params:{projectId:e.id}}},{default:(0,o.w5)((()=>[(0,o._)("h1",je,(0,b.zw)(e.name),1)])),_:2},1032,["class","to"])))),128))])):(0,o.kq)("",!0),(0,o._)("div",{class:"mt-auto self-center"},[(0,o._)("div",{onClick:d,class:"cursor-pointer text-xs lg:text-sm font-bold mb-6 bg-[#F4F4F4] text-red-500 w-[180px] lg:w-[220px] h-[45px] rounded-md hover:bg-gray-300 flex flex-col justify-center"}," Logout ")])],2)):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(u)])}}};const Ue=Ce;var De=Ue;const Te={class:"absolute inset-0 bg-[rgba(0,0,0,0.5)] grid h-screen place-items-center overflow-y-auto"},Ie={class:"flex flex-col bg-white w-[300px] rounded-lg p-2"},Ae=(0,o._)("h1",{class:"font-bold lg:text-lg mb-6"},"Team Members",-1),He={class:"lg:text-md text-sm"},qe={key:0},ze={key:0},Fe=["onClick"],Pe=["onSubmit"],Me=(0,o._)("button",{class:"rounded-lg px-2 py-1 text-xs bg-[#0C4689] text-white"}," Add ",-1);var Be={__name:"TeamModal",props:{project:Object},setup(e){const t=e,a=y();let s=(0,h.iH)(t.project.members),n=(0,h.iH)("");const r=()=>{n.value.length>0&&(a.apiService(I.addMember,[t.project.id],{email:n.value}).then((e=>{"failed"!=e.message&&s.value.push(e.data)})),n.value="")};let i=(0,h.iH)(!1),c=(0,h.iH)(-1);const u=(e,t)=>{i.value=!0,c.value=t},d=()=>{i.value=!1,c.value=-1},p=(e,l)=>{a.apiService(I.removeMember,[t.project.id],{email:e}).then((e=>{"failed"!=e.message&&s.value.splice(l,1)[0],d()}))};return(t,a)=>{const s=(0,o.up)("v-icon");return(0,o.wg)(),(0,o.iD)("div",Te,[(0,o._)("div",Ie,[Ae,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.project.members,((t,a)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id,class:"flex justify-between mb-3"},[(0,o._)("h1",He,(0,b.zw)(t.user_email),1),(0,h.SU)(j)(e.project.admin_id)&&t.user_id!=e.project.admin_id?((0,o.wg)(),(0,o.iD)("div",qe,[!0===(0,h.SU)(i)&&(0,h.SU)(c)==a?((0,o.wg)(),(0,o.iD)("div",ze,[(0,o._)("button",{class:"py-1 px-2 text-xs rounded-lg bg-red-300 hover:bg-red-500 hover:text-white mr-3",onClick:e=>p(t.user_email,a)}," Confirm ",8,Fe),(0,o._)("button",{class:"py-1 px-2 text-xs rounded-lg bg-gray-300 hover:bg-gray-500 hover:text-white",onClick:d}," Cancel ")])):((0,o.wg)(),(0,o.j4)(s,{key:1,name:"io-remove-circle-sharp",class:"cursor-pointer lg:w-[20px] w-[15px]",onClick:e=>u(t.id,a)},null,8,["onClick"]))])):(0,o.kq)("",!0)])))),128)),(0,h.SU)(j)(e.project.admin_id)?((0,o.wg)(),(0,o.iD)("form",{key:0,onSubmit:(0,l.iM)(r,["prevent"]),class:"flex justify-between mt-3"},[(0,o.wy)((0,o._)("input",{type:"text",class:"p-2 mr-2 text-xs flex-grow bg-transparent border border-black rounded-md h-[28px]",placeholder:"Member Email","onUpdate:modelValue":a[0]||(a[0]=e=>(0,h.dq)(n)?n.value=e:n=e)},null,512),[[l.nr,(0,h.SU)(n)]]),Me],40,Pe)):(0,o.kq)("",!0)])])}}};const Ve=Be;var Ee=Ve;const Le={class:"h-screen w-screen p-4 bg-[#F5F5F5] overflow-auto"},Oe={key:0,class:"flex flex-col ml-6"},Re={class:"flex space-x-8 items-center mb-6"},Ke={class:"flex items-center"},Ne={key:0,class:"font-bold text-sm lg:text-xl"},Ye=["onKeyup"],We={key:0},Ze={class:""},Ge={key:0,class:"flex items-start"},Je=["onDrop","onDragstart"],Qe={class:"flex items-center mb-2 font-bold justify-between w-full"},$e=["value","onChange","onKeyup","onFocusout","id"],Xe={key:1,class:"lg:text-md text-sm"},et={class:""},tt={class:"list-reset"},at=["onClick","onDragstart","onDrop"],lt={class:"flex-col"},ot={class:"lg:text-md text-sm flex justify-between"},st={class:"font-bold"},nt={key:0,class:"w-full flex-no-shrink text-xs lg:text-sm mt-1"},rt=["onKeyup","disabled"],it={class:"p-2 mr-4 text-left shadow rounded bg-gray-300 min-w-[200px] lg:min-w-[300px] h-[30px] lg:h-[45px] flex lg:text-md text-sm"},ct=["onKeyup","disabled"],ut={key:1,class:"absolute inset-0 bg-[rgba(0,0,0,0.5)] overflow-y-auto"},dt=["onClick"],pt=(0,o._)("h1",{class:"font-bold text-sm lg:text-lg"},"Are you sure you want to delete this column and all of its tasks?",-1);var gt={__name:"ProjectView",props:{projectId:[String,Number]},setup(e){const t=e;let a=(0,h.iH)(null);const s=(0,u.yj)(),n=(0,u.tv)(),r=y();(0,o.bv)((()=>{(0,o.m0)((()=>{r.apiService(I.getSingleProject,[parseInt(t.projectId)],null).then((e=>{"failed"!=e.message&&(a.value=e.data)}))})),U(localStorage.getItem("access_token")),console.log(C(localStorage.getItem("access_token"))?"access exp":"access not exp")}));let i=(0,o.Fl)((()=>"TaskModal"===s.name)),c=(0,h.iH)(!1);const d=(e,t,l)=>{c.value=!0,n.push({name:"TaskModal",params:{projectId:a.value.id,id:e,taskIndex:parseInt(t),columnIndex:parseInt(l)}})},p=(e,t,l,o)=>{g(e,t,l,o),c.value=!1,n.push({name:"ProjectView",params:{projectId:a.value.id}})},g=(e,t,l,o)=>{"deleted"!=o?r.apiService(I.getSingleTask,[parseInt(e)],null).then((e=>{"failed"!=e.message&&(a.value.columns[l].tasks[t]=e.data)})):a.value.columns[l].tasks.splice(t,1)},m=(e,t,l)=>{if(e.target.value.length<1)return!1;r.apiService(I.createTask,[parseInt(t)],{name:e.target.value}).then((e=>{"failed"!=e.message&&a.value.columns[l].tasks.push(e.data)})),e.target.value=""},v=(e,t,a,l,o)=>{o.dataTransfer.effectAllowed="move",o.dataTransfer.dropEffect="move",o.dataTransfer.setData("task-id",e),o.dataTransfer.setData("from-task-index",l),o.dataTransfer.setData("from-col-of-id",t),o.dataTransfer.setData("from-col-index",a),o.dataTransfer.setData("type","task")},f=(e,t,l,o)=>{o.dataTransfer.getData("from-col-of-id");const s=o.dataTransfer.getData("from-task-index"),n=o.dataTransfer.getData("from-col-index"),r=o.dataTransfer.getData("task-id"),i=a.value.columns[n].tasks.splice(s,1)[0];null!=l?(a.value.columns[t].tasks.splice(l,0,i),I.relocateTask(r,{targetColId:e,tasksOrderInTargetCol:a.value.columns[t].tasks.map((e=>e.id))}).then((e=>{if("failed"==e.data.message){const o=a.value.columns[t].tasks.splice(l,1)[0];a.value.columns[n].tasks.splice(s,0,o),console.log("failed",e.data.data)}else console.log(e.data.data)})).catch((()=>{const e=a.value.columns[t].tasks.splice(l,1)[0];a.value.columns[n].tasks.splice(s,0,e),console.log("caught",resp.data.data)}))):(a.value.columns[t].tasks.push(i),I.relocateTask(r,{targetColId:e,tasksOrderInTargetCol:a.value.columns[t].tasks.map((e=>e.id))}).then((e=>{if("failed"==e.data.message){const l=a.value.columns[t].tasks.pop();a.value.columns[n].tasks.splice(s,0,l),console.log("failed",e.data.data)}else console.log(e.data.data)})).catch((()=>{const e=a.value.columns[t].tasks.pop();a.value.columns[n].tasks.splice(s,0,e),console.log("caught",resp.data.data)})))},x=(e,t,a)=>{a.dataTransfer.effectAllowed="move",a.dataTransfer.dropEffect="move",a.dataTransfer.setData("from-col-of-id",e),a.dataTransfer.setData("from-col-index",t),a.dataTransfer.setData("type","column")},w=(e,t,a,l)=>{const o=l.dataTransfer.getData("type");"task"==o?f(e,t,a,l):k(e,t,l)},k=(e,t,l)=>{l.dataTransfer.getData("from-col-of-id");const o=l.dataTransfer.getData("from-col-index");if(o==t)return;const s=a.value.columns.splice(o,1)[0];if(a.value.columns.splice(t,0,s),I.changeColsOrder(a.value.id,{orderedCols:a.value.columns.map((e=>e.id))}).then((e=>{if("fail"==e.data.message){const l=a.value.columns.splice(t,1)[0];a.value.columns.splice(o,0,l),console.log("failed:",e.data.data)}else console.log(e.data.data)})).catch((e=>{const l=a.value.columns.splice(t,1)[0];a.value.columns.splice(o,0,l),console.log("failed:",e.data)})),Math.abs(o-t)<=1){let t=0;for(const l of a.value.columns){if(l.id==e){console.log("col of id",l.id,"and name",l.name,"is now at position",t);break}t++}}else{let e=0;for(const t of a.value.columns)console.log("col of id",t.id," (name: ",t.name,") now has the position",e),e++}};let _=(0,h.iH)("");const S=()=>{if(_.value.length<1)return!1;r.apiService(I.createColumn,[a.value.id],{name:_.value}).then((e=>{"failed"!=e.message&&a.value.columns.push(e.data)})),_.value=""};let D=(0,h.iH)(!1),T=(0,h.iH)(-1),A=(0,h.iH)(-1);const H=(e,t)=>{D.value=!0,T.value=t,A.value=e,c.value=!0},q=()=>{D.value=!1,T.value=-1,c.value=!1},z=()=>{const e=A.value,t=T.value;if(-1==t||-1==e)return!1;q(),r.apiService(I.deleteColumn,[e],null).then((e=>{"failed"!=e.message&&a.value.columns.splice(t,1)[0]}))};let F=(0,h.iH)(!1),P=(0,h.iH)(-1);const M=e=>{F.value=!0,P.value=e,(0,o.Y3)((()=>{document.getElementById("colNameField_"+e).focus()}))},B=(e,t,l)=>{if(l.target.value.length<1||l.target.value==a.value.columns[t].name)return F.value=!1,P.value=-1,!1;let o=a.value.columns[t].name;a.value.columns[t].name=l.target.value,F.value=!1,P.value=-1,r.apiService(I.updateColumn,[e],{name:l.target.value}).then((e=>{"failed"==e.message&&(a.value.columns[t].name=o)}))},V=(e,t)=>{t.target.value=a.value.columns[e].name,F.value=!1,P.value=-1};let E=(0,h.iH)(!1);const L=()=>{E.value=!0,c.value=!0},O=()=>{E.value=!1,c.value=!1};let R=(0,h.iH)(""),K=(0,h.iH)(!1),N=(0,h.iH)(null);const Y=()=>{K.value=!1},W=()=>{K.value=!0,R.value=a.value.name,(0,o.Y3)((()=>{N.value.focus()}))},Z=()=>{let e=a.value.name;if(Y(),R.value.length<0||R.value==e)return a.value.name=e,R.value="",!1;a.value.name=R.value,r.apiService(I.updateProject,[a.value.id],{name:R.value}).then((t=>{"failed"==t.message&&(a.value.name=e)})),R.value=""},G=()=>{r.apiService(I.addToArchive,[a.value.id],null).then((e=>{"failed"!=e.message&&(window.location="/"+a.value.id)}))},J=()=>{r.apiService(I.removeFromArchive,[a.value.id],null).then((e=>{"failed"!=e.message&&(window.location="/"+a.value.id)}))};return(e,t)=>{const s=(0,o.up)("v-icon"),n=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",Le,[(0,h.SU)(a)?((0,o.wg)(),(0,o.iD)("div",Oe,[(0,o._)("div",Re,[(0,o._)("div",Ke,[(0,h.SU)(K)?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:1,class:"p-2 text-sm lg:text-xl bg-transparent h-[28px] rounded-md border border-black","onUpdate:modelValue":t[0]||(t[0]=e=>(0,h.dq)(R)?R.value=e:R=e),onFocusout:Y,onKeyup:[(0,l.D2)(Z,["enter"]),(0,l.D2)(Y,["esc"])],ref_key:"projectNameRef",ref:N},null,40,Ye)),[[l.nr,(0,h.SU)(R)]]):((0,o.wg)(),(0,o.iD)("h1",Ne,(0,b.zw)((0,h.SU)(a).name),1)),(0,h.SU)(j)((0,h.SU)(a).admin_id)&&!(0,h.SU)(K)?((0,o.wg)(),(0,o.j4)(s,{key:2,name:"md-edit",class:"cursor-pointer ml-3 lg:w-[20px] w-[15px]",onClick:W})):(0,o.kq)("",!0),(0,o._)("div",{class:"rounded-md py-1 px-2 text-xs lg:text-sm bg-[#EAEAEA] cursor-pointer ml-6",onClick:L},"Team")]),(0,h.SU)(j)((0,h.SU)(a).admin_id)&&!(0,h.SU)(K)?((0,o.wg)(),(0,o.iD)("div",We,[0==(0,h.SU)(a).archived?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"bg-red-300 hover:bg-red-500 hover:text-white text-xs lg:text-sm px-2 py-1 rounded-lg ml-8",onClick:G}," Archive ")):((0,o.wg)(),(0,o.iD)("button",{key:1,class:"bg-gray-300 hover:bg-gray-500 hover:text-white text-xs lg:text-sm px-2 py-1 rounded-lg ml-8",onClick:J}," Unarchive "))])):(0,o.kq)("",!0)]),(0,o._)("div",Ze,[(0,h.SU)(a)?((0,o.wg)(),(0,o.iD)("div",Ge,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,h.SU)(a).columns,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{class:"p-3 mr-4 text-left shadow rounded bg-[#D9D9D9] min-w-[200px] lg:min-w-[300px] lg:w-[300px] flex flex-col",key:e.name,onDrop:t=>w(e.id,a,null,t),onDragover:t[4]||(t[4]=(0,l.iM)((()=>{}),["prevent"])),onDragenter:t[5]||(t[5]=(0,l.iM)((()=>{}),["prevent"])),draggable:"true",onDragstart:(0,l.iM)((t=>x(e.id,a,t)),["self"])},[(0,o._)("div",Qe,[!0===(0,h.SU)(F)&&(0,h.SU)(P)==e.id?((0,o.wg)(),(0,o.iD)("input",{key:0,type:"text",value:e.name,class:"p-2 mr-2 w-[50px] lg:w-[100px] flex-grow bg-transparent border border-black rounded-md h-[28px] lg:text-md text-sm",onChange:t=>B(e.id,a,t),onKeyup:(0,l.D2)((e=>V(a,e)),["esc"]),onFocusout:e=>V(a,e),id:"colNameField_"+e.id},null,40,$e)):((0,o.wg)(),(0,o.iD)("h1",Xe,(0,b.zw)(e.name),1)),(0,o._)("div",et,[(0,o.Wm)(s,{name:"md-edit",class:"mr-2 cursor-pointer lg:w-[20px] w-[15px]",onClick:t=>M(e.id),disabled:(0,h.SU)(c)},null,8,["onClick","disabled"]),(0,o.Wm)(s,{name:"io-remove-circle-sharp",class:"cursor-pointer lg:w-[20px] w-[15px]",onClick:t=>H(e.id,a),disabled:(0,h.SU)(c)},null,8,["onClick","disabled"])])]),(0,o._)("div",tt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.tasks,((s,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"w-full shadow mb-2 py-2 px-2 rounded bg-white text-gray-900 no-underline cursor-pointer",key:s.id,onClick:e=>d(s.id,n,a),draggable:"true",onDragstart:t=>v(s.id,e.id,a,n,t),onDrop:(0,l.iM)((t=>w(e.id,a,n,t)),["stop"]),onDragover:t[1]||(t[1]=(0,l.iM)((()=>{}),["prevent"])),onDragenter:t[2]||(t[2]=(0,l.iM)((()=>{}),["prevent"]))},[(0,o._)("div",lt,[(0,o._)("div",ot,[(0,o._)("span",st,(0,b.zw)(s.name),1)]),s.description?((0,o.wg)(),(0,o.iD)("p",nt,(0,b.zw)(s.description),1)):(0,o.kq)("",!0)])],40,at)))),128)),(0,o._)("input",{type:"text",class:"p-2 block w-full bg-transparent h-[28px] lg:text-md text-sm",placeholder:"Add a task...",onKeyup:[(0,l.D2)((t=>m(t,e.id,a)),["enter"]),t[3]||(t[3]=(0,l.D2)((e=>e.target.value=""),["esc"]))],disabled:(0,h.SU)(c)},null,40,rt)])],40,Je)))),128)),(0,o._)("div",it,[(0,o.wy)((0,o._)("input",{type:"text",class:"p-2 mr-2 flex-grow bg-transparent",placeholder:"Add a Column...","onUpdate:modelValue":t[6]||(t[6]=e=>(0,h.dq)(_)?_.value=e:_=e),onKeyup:[(0,l.D2)(S,["enter"]),t[7]||(t[7]=(0,l.D2)((e=>(0,h.dq)(_)?_.value="":_=""),["esc"]))],disabled:(0,h.SU)(c)},null,40,ct),[[l.nr,(0,h.SU)(_)]])])])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0),(0,h.SU)(i)?((0,o.wg)(),(0,o.iD)("div",ut,[(0,o.Wm)(n,{onCloseTask:p})])):(0,o.kq)("",!0),(0,h.SU)(D)?((0,o.wg)(),(0,o.iD)("div",{key:2,class:"absolute inset-0 bg-[rgba(0,0,0,0.5)] grid h-screen place-items-center",onClick:(0,l.iM)(q,["self"]),onFocusout:q},[(0,o._)("div",{class:"bg-white w-[300px] flex flex-col p-3 rounded-lg space-y-4"},[pt,(0,o._)("div",{class:"flex justify-around"},[(0,o._)("button",{class:"bg-red-300 hover:bg-red-500 py-1 px-2 rounded-lg text-white text-xs lg:text-sm",onClick:z}," Confirm "),(0,o._)("button",{class:"bg-gray-300 hover:bg-gray-500 py-1 px-2 rounded-lg text-white text-xs lg:text-sm",onClick:q}," Cancel ")])])],40,dt)):(0,o.kq)("",!0),(0,h.SU)(E)?((0,o.wg)(),(0,o.j4)(Ee,{key:3,project:(0,h.SU)(a),onClick:(0,l.iM)(O,["self"])},null,8,["project","onClick"])):(0,o.kq)("",!0)])}}};const mt=gt;var vt=mt;const ft=["onClick"],xt={key:0,class:"flex bg-white pin mx-auto mt-3 lg:py-4 lg:px-6 py-2 px-3 text-left rounded w-[300px] lg:w-[700px] overflow-y-auto"},ht={class:"flex flex-col flex-grow justify-between items-start w-full"},bt={class:"flex justify-between w-full"},wt=["value"],kt=["value"],yt={key:0,class:"flex justify-start mt-6 lg:text-lg items-center"},_t=["value","selected"],St={key:0,class:"flex ml-3"},jt={key:1,class:"flex justify-start space-x-2 mt-6 items-center"},Ct=(0,o._)("h1",{class:"text-lg mr-6"},"Attachments:",-1),Ut={class:"flex flex-col mt-6 w-full"},Dt=(0,o._)("h1",{class:"text-sm lg:text-lg mb-3 font-bold"},"Comments:",-1),Tt={class:"flex flex-col bg-slate-100 space-y-2 rounded-lg p-2"},It={class:"flex justify-between"},At={class:"font-bold lg:text-md text-sm"},Ht={key:0},qt=["onClick"],zt={key:1},Ft=["onClick"],Pt=["onMousedown"],Mt={key:0,class:"lg:text-md text-xs"},Bt=["onUpdate:modelValue"],Vt={key:0,class:"italic mx-auto mt-3 lg:text-md text-xs"};var Et={__name:"TaskModal",props:{id:[String,Number],taskIndex:[String,Number],columnIndex:[String,Number]},emits:["close-task","task-deleted"],setup(e,{emit:t}){const a=e;let s=(0,h.iH)(null),n=(0,h.iH)(null),r=(0,h.iH)([]);const i=(0,u.yj)();let c=(0,h.iH)(null);const d=(0,h.iH)(null);let p=(0,h.iH)({});const g=y();(0,o.bv)((()=>{g.apiService(I.getSingleTask,[a.id]).then((e=>{"failed"!=e.message&&(console.log("fetched task"),s.value=e.data,n.value=s.value.assignee_id)})),g.apiService(I.getMembers,[i.params.projectId],null).then((e=>{if("failed"!=e.message){console.log("fetched members"),r.value=e.data;for(let e=0;e<r.value.length;e++)p.value[r.value[e].user_id]=r.value[e].user_data.name}}));const e=localStorage.getItem("access_token");let t=(0,S.Z)(e);c.value=t.user}));let m=(0,h.iH)(!1);const v=e=>{const t=s.value.name,a=e.target.value;a.length>0&&t!=a&&(m.value=!0,s.value.name=a,e.target.blur(),g.apiService(I.updateTask,[s.value.id],{name:a}).then((e=>{"failed"==e.message&&(s.value.name=t)})).catch((()=>{s.value.name=t})).finally((()=>{m.value=!1})))},f=e=>{const t=s.value.description,a=e.target.value;a.length>0&&t!=a&&(m.value=!0,s.value.description=a,e.target.blur(),g.apiService(I.updateTask,[s.value.id],{name:s.value.name,description:a}).then((e=>{"failed"==e.message&&(s.value.description=t)})).catch((()=>{s.value.description=t})).finally((()=>{m.value=!1})))};let x=(0,h.iH)(!1);const w=()=>{m.value=!0,x.value=!0,g.apiService(I.deleteTask,[s.value.id]).then((e=>{m.value=!1,x.value=!1,"failed"!=e.message&&k("deleted")})).catch((()=>{m.value=!1,x.value=!1}))},k=(e=null)=>{!1===m.value&&t("close-task",s.value.id,a.taskIndex,a.columnIndex,e)};let _=(0,h.iH)("");const j=()=>{if(_.value.length<1)return!1;g.apiService(I.createComment,[s.value.id],{body:_.value}).then((e=>{"failed"!=e.message&&s.value.comments.push(e.data)})),_.value=""},C=()=>{_.value=""};let U=(0,h.iH)(-1),D=(0,h.iH)({});const T=(e,t)=>{-1==U.value&&(U.value=e,D.value[e]=t)},A=()=>{U.value=-1},H=(e,t)=>{const a=D.value[e];D.value[e]="",A(),g.apiService(I.updateComment,[e],{body:a}).then((e=>{"failed"!=e.message&&(s.value.comments[t].body=e.data.body)}))},q=(e,t)=>{g.apiService(I.deleteComment,[e]).then((e=>{"failed"!=e.message&&s.value.comments.splice(t,1)[0]}))};let z=(0,h.iH)(!1);const F=()=>{z.value=!0},P=()=>{z.value=!1,n.value=s.value.assignee_id},M=()=>{z.value=!1},B=()=>{g.apiService(I.updateTask,[s.value.id],{name:s.value.name,assignee_id:n.value}).then((e=>{"failed"!=e.message?(s.value.assignee_id=e.data.assignee_id,n.value=s.value.assignee_id):n.value=s.value.assignee_id})),M()};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",{onClick:(0,l.iM)(k,["self"])},[(0,h.SU)(s)?((0,o.wg)(),(0,o.iD)("div",xt,[(0,o._)("div",ht,[(0,o._)("div",bt,[(0,o._)("input",{type:"text",class:"p-2 mr-2 flex-grow text-sm lg:text-xl font-bold md:w-[120px]",value:(0,h.SU)(s).name,onChange:t[0]||(t[0]=e=>v(e))},null,40,wt),(0,o._)("button",{class:(0,b.C_)(["bg-red-300 hover:bg-red-500 hover:text-white py-0 px-1 text-xs rounded-full",{italic:(0,h.SU)(x)}]),onMousedown:w},(0,b.zw)((0,h.SU)(x)?"Loading...":"Delete"),35)]),(0,o._)("textarea",{class:"mt-5 w-full text-xs lg:text-sm p-1 border border-gray-500 min-h-[100px] resize-none rounded-lg",value:(0,h.SU)(s).description,placeholder:"Description...",onChange:t[1]||(t[1]=e=>f(e))},null,40,kt),(0,h.SU)(r)&&(0,h.SU)(r).length>0?((0,o.wg)(),(0,o.iD)("div",yt,[(0,o._)("h1",{class:(0,b.C_)(["mr-6",{"lg:block hidden":(0,h.SU)(z)}])},"Assignee:",2),(0,o.wy)((0,o._)("select",{class:"border border-black text-sm","onUpdate:modelValue":t[2]||(t[2]=e=>(0,h.dq)(n)?n.value=e:n=e),onChange:F},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,h.SU)(r),(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.user_id,value:e.user_id,selected:e.user_id==(0,h.SU)(n)},(0,b.zw)(e.user_email),9,_t)))),128))],544),[[l.bM,(0,h.SU)(n)]]),(0,h.SU)(z)?((0,o.wg)(),(0,o.iD)("div",St,[(0,o._)("button",{class:"py-1 px-2 text-xs rounded-lg bg-gray-700 hover:bg-gray-900 text-white mr-1",onClick:B}," Confirm "),(0,o._)("button",{class:"py-1 px-2 text-xs rounded-lg bg-gray-300 hover:bg-gray-500 hover:text-white",onClick:P}," Cancel ")])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),d.value&&d.value.length>0?((0,o.wg)(),(0,o.iD)("div",jt,[Ct,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.value,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"p-2 bg-gray-200 hover:bg-gray-300 rounded-lg"},(0,b.zw)(e.name),1)))),128))])):(0,o.kq)("",!0),(0,o._)("div",Ut,[Dt,(0,o._)("div",Tt,[(0,o.wy)((0,o._)("textarea",{class:"lg:text-md text-sm resize-none self-center bg-transparent p-2 w-full border-b border-gray-700",placeholder:"Comment...","onUpdate:modelValue":t[3]||(t[3]=e=>(0,h.dq)(_)?_.value=e:_=e)},null,512),[[l.nr,(0,h.SU)(_)]]),(0,o._)("div",{class:"flex justify-end space-x-2"},[(0,o._)("button",{class:"p-1 text-xs lg:text-sm rounded-lg bg-[#0C4689] text-white",onClick:j}," Submit "),(0,o._)("button",{class:"p-1 text-xs lg:text-sm rounded-lg bg-gray-300 hover:bg-gray-500 hover:text-white",onClick:C}," Cancel ")])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,h.SU)(s).comments,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,class:"bg-slate-200 rounded-lg flex flex-col space-y-3 mt-3 p-2"},[(0,o._)("div",It,[(0,o._)("h1",At,(0,b.zw)((0,h.SU)(p)[e.author_id]),1),e.author_id==(0,h.SU)(c).id?((0,o.wg)(),(0,o.iD)("div",Ht,[(0,h.SU)(U)!=e.id?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:t=>T(e.id,e.body),class:"text-xs hover:underline font-bold mr-3"}," Edit ",8,qt)):((0,o.wg)(),(0,o.iD)("div",zt,[(0,o._)("button",{class:"text-xs bg-[#0C4689] text-white px-2 py-1 rounded-lg mr-3",onClick:a=>H(e.id,t)},"Save",8,Ft),(0,o._)("button",{class:"text-xs bg-gray-300 hover:bg-gray-500 px-2 py-1 rounded-lg",onClick:A},"Cancel")])),(0,h.SU)(U)!=e.id?((0,o.wg)(),(0,o.iD)("button",{key:2,onMousedown:a=>q(e.id,t),class:"text-xs hover:underline font-bold"}," Delete ",40,Pt)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)]),(0,h.SU)(U)!=e.id?((0,o.wg)(),(0,o.iD)("div",Mt,(0,b.zw)(e.body),1)):(0,o.wy)(((0,o.wg)(),(0,o.iD)("textarea",{key:1,placeholder:"{{comment.body}}",class:"bg-transparent border border-black p-2 lg:text-md text-xs","onUpdate:modelValue":t=>(0,h.SU)(D)[e.id]=t},null,8,Bt)),[[l.nr,(0,h.SU)(D)[e.id]]])])))),128)),(0,h.SU)(s).comments.length<1?((0,o.wg)(),(0,o.iD)("h1",Vt,"No Comments Yet")):(0,o.kq)("",!0)])])])):(0,o.kq)("",!0)],8,ft))}};const Lt=Et;var Ot=Lt;const Rt={class:"grid place-items-center mx-auto h-screen bg-[#F5F5F5] w-screen"},Kt={key:0,class:"text-2xl font-bold text-red-500"},Nt={key:1},Yt={class:"text-2xl font-bold"},Wt={class:""},Zt={key:2},Gt=(0,o._)("h1",{class:"text-2xl font-bold"},"A Problem has occurred.",-1),Jt={class:""};var Qt={__name:"ErrorDisplayView",setup(e){const t=(0,u.yj)();let a=parseInt(t.params.status),l=(0,o.Fl)((()=>a<500?404==a?"404":"4xx":"5xx"));return(e,a)=>{const s=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",Rt,["4xx"==(0,h.SU)(l)?((0,o.wg)(),(0,o.iD)("h1",Kt,(0,b.zw)((0,h.SU)(t).params.status+": Unauthorized"),1)):(0,o.kq)("",!0),"404"==(0,h.SU)(l)?((0,o.wg)(),(0,o.iD)("div",Nt,[(0,o._)("h1",Yt,(0,b.zw)((0,h.SU)(t).params.status+": Not Found"),1),(0,o._)("h1",Wt,[(0,o.Uk)("Go to "),(0,o.Wm)(s,{to:"/",class:"font-bold hover:underline"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1}),(0,o.Uk)(" Page?")])])):(0,o.kq)("",!0),"5xx"==(0,h.SU)(l)?((0,o.wg)(),(0,o.iD)("div",Zt,[Gt,(0,o._)("h1",Jt,[(0,o.Uk)("Go to "),(0,o.Wm)(s,{to:"/",class:"font-bold hover:underline"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1}),(0,o.Uk)(" Page?")])])):(0,o.kq)("",!0)])}}};const $t=Qt;var Xt=$t;const ea=[{path:"/auth",name:"AuthLayout",component:de,children:[{path:"",name:"DefaultAuthRedirect",redirect:{name:"RegisterView"}},{path:"register",name:"RegisterView",component:N,beforeEnter:()=>{localStorage.removeItem("access_token")}},{path:"login",name:"LoginView",component:oe,beforeEnter:()=>{localStorage.removeItem("access_token")}}]},{path:"/",name:"SidebarLayout",component:De,children:[{path:"/",name:"HomeView",component:x,meta:{requiresAuth:!0}},{path:"/:projectId",name:"ProjectView",component:vt,props:!0,meta:{requiresAuth:!0},children:[{path:"task/:id/:taskIndex/:columnIndex",name:"TaskModal",meta:{requiresAuth:!0},component:Ot,props:!0}]}]},{path:"/error/:status",name:"ErrorDisplayView",component:Xt},{path:"/:catchAll(.*)",redirect:{name:"ErrorDisplayView",params:{status:"404"}}}],ta=(0,u.p7)({history:(0,u.PO)("/project-manager/"),routes:ea,base:"/project-manager/"});ta.beforeEach((e=>{e.meta&&!0===e.meta.requiresAuth&&(localStorage.getItem("access_token")||ta.push({name:"RegisterView",query:{to:e.fullPath}}))}));var aa=ta,la=a(65),oa=(0,la.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),sa=a(4463),na=a(1799),ra=a(9235),ia=a(2596);(0,sa.Go)(na.zmo,ra.T$b,ra.b0B,ia.ogD,ra.dUf),(0,l.ri)(c).use(oa).use(aa).component("v-icon",sa.xt).mount("#app")}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var s=t[l]={exports:{}};return e[l].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,l,o,s){if(!l){var n=1/0;for(u=0;u<e.length;u++){l=e[u][0],o=e[u][1],s=e[u][2];for(var r=!0,i=0;i<l.length;i++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](l[i])}))?l.splice(i--,1):(r=!1,s<n&&(n=s));if(r){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[l,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,s,n=l[0],r=l[1],i=l[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(i)var u=i(a)}for(t&&t(l);c<n.length;c++)s=n[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},l=self["webpackChunkproject_manager_kanban"]=self["webpackChunkproject_manager_kanban"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(7181)}));l=a.O(l)})();
//# sourceMappingURL=app.5dc3c22e.js.map